{% extends 'base_with_nav.html' %}
{% block content %}
<div class="container">
    <div class="row height d-flex justify-content-center align-items-center">
        <div class = "col" style="margin-left:20%;">
            <form action="{% url 'songs_index' %}" method="post" style="width:90%; margin-left: 30%;">
                {% csrf_token %}
                <input name="q" type="text" placeholder="Search...">
                <button type="submit" class="btn btn-primary" style="background-color: #0077b6;">Search</button>
            </form>
        </div>
    </div>
</div>
<h1 class = "text-center" style="margin-bottom:2%; margin-top: 0.5%;">Available Songs</h1>
{% for song in songs.all %}
<div class="card cards22" style="margin: 0 10% 0 15%; margin-bottom: 1%; background-color: darkcyan;">
    <div class="row">
        <div class="col-1">
            <img src="https://upload.wikimedia.org/wikipedia/en/e/e8/Taylor_Swift_-_Red.png" style="width:85%; border-radius: 20%; margin-left: 3%;">
        </div>
        <div class="col-5">
            <a href="" style="text-decoration: none; color:black;"><h6 class="card-header">{{ song.title }} by {{ song.createdby }}</h5></a>
        </div>
        <div class="col-1">
            <h6 class="card-text" style="margin-top: 19%;">3:51</a>
        </div>
        <div class="col-3">
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Add to Playlist
                </button>
                <ul class="dropdown-menu">
                {% for playlist in playlists.all %}
                  <li>
                    <form  class="dropdown-item" action="{% url 'assoc_song' playlist.id song.id %}" method="post">
                        {% csrf_token %}
                        <button type="submit" class="btn">{{ playlist.title }}</button>
                    </form>                    
                  </li>
                  {% endfor %}
                </ul>
              </div>
        </div>
        <div class="col-1">
            <a href="#" class="btn btn-primary">Like</a>
        </div>
    </div>
</div>

<script>
    songItems = document.querySelectorAll(".card.cards22")
    songItems.forEach(function(songItem) {
        songItem.addEventListener('mouseenter', function() {
            songItem.style.backgroundColor = 'aqua';
        })
        songItem.addEventListener('mouseleave', function() {
            songItem.style.backgroundColor = 'darkcyan';
         });
    });
</script>
{% endfor %}

{% endblock %}



